---
# Security
- name: Disable Password Hints at Login
  osx_defaults: domain=com.apple.loginwindow key=RetriesUntilHint type=int value=0

- name: Require password immediately after sleep or screen saver
  osx_defaults: domain=com.apple.screensaver key={{ item.name }} type=int value={{ item.value }}
  loop: [{ name: askForPassword, value: 1 }, { name: askForPasswordDelay, value: 5 }]

- name: Upper-Left Corner -> Screen Saver
  osx_defaults: domain=com.apple.dock key={{ item.name }} type=int value={{ item.value }}
  loop: [{ name: wvous-tl-corner, value: 5 }, { name: wvous-tl-modifier, value: 0 }]

# Usability
- name: Do NOT use smart quotes and dashes
  osx_defaults: key={{ item }} type=bool value=false
  loop: [ NSAutomaticDashSubstitutionEnabled, NSAutomaticQuoteSubstitutionEnabled ]

- name: Full Keyboard Access
  osx_defaults: key=AppleKeyboardUIMode type=int value=0

- name: Keyboard repeat rate
  osx_defaults: key={{ item.name }} type=int value={{ item.value }}
  loop: [{ name: InitialKeyRepeat, value: 20 }, { name: KeyRepeat, value: 1 }]

- name: Disable auto-correct
  osx_defaults: key=NSAutomaticSpellingCorrectionEnabled type=bool value=false

- name: Enable zoom
  osx_defaults: domain=com.apple.universalaccess key=closeViewScrollWheelToggle type=bool value=true

- name: ctrl + scroll to zoom
  osx_defaults: domain=com.apple.universalaccess key=HIDScrollZoomModifierMask type=int value=262144

# Color theme
- name: Dark Mode ON
  osx_defaults: key=AppleInterfaceStyle value=Dark

- name: Green Highlight Color
  osx_defaults: key=AppleHighlightColor value='0.752941 0.964706 0.678431 Green'

- name: Color Variant
  osx_defaults: key=AppleAquaColorVariant type=int value=6

# Siri
- name: Disable Ask Siri
  osx_defaults: domain=com.apple.assistant.support key='Assistant Enabled' type=bool value=false

- name: Disable Siri menubar icon
  osx_defaults: domain=com.apple.Siri key=StatusMenuVisible type=bool value=false

# Screenshots
- name: Screenshot format
  osx_defaults: domain=com.apple.screencapture key=type value=png

# Dock
- name: Dock tile size
  osx_defaults: domain=com.apple.dock key=tilesize type=float value=35

- name: Dock magnified tile size
  osx_defaults: domain=com.apple.dock key=largesize type=float value=66

- name: Tile magnification on
  osx_defaults: domain=com.apple.dock key=magnification type=bool value=true

- name: Dock minimize effect
  osx_defaults: domain=com.apple.dock key=mineffect value=genie

- name: Auto-hide dock
  osx_defaults: domain=com.apple.dock key=autohide type=bool value=true

- name: Remove all icons from dock
  osx_defaults: { domain: com.apple.dock, key: persistent-apps, type: array, value: [] }

- name: Dock location
  osx_defaults: domain=com.apple.dock key=orientation value=right

# VLC
- name: VLC has launched before
  osx_defaults: domain=org.videolan.vlc key=SUHasLaunchedBefore type=bool value=true

- name: Disable VLC updates
  osx_defaults: domain=org.videolan.vlc key=SUEnableAutomaticChecks type=bool value=false

- name: VLC American English
  osx_defaults:
    domain: org.videolan.vlc
    key: '{{ item.name }}'
    type: '{{ item.type }}'
    value: '{{ item.value }}'
  loop:
    - name: AppleTextDirection
      type: bool
      value: false
    - name: NSForceRightToLeftWritingDirection
      type: bool
      value: false
    - name: language
      type: string
      value: en

# Transmission
- name: Transmission settings
  osx_defaults:
    domain: org.m0k.transmission
    key: '{{ item.name }}'
    type: bool
    value: '{{ item.value }}'
  loop:
    - { name: AutoImport, value: true }
    - { name: DeleteOriginalTorrent, value: true }
    - { name: DownloadAsk, value: false }
    - { name: DownloadLocationConstant, value: true }
    - { name: InfoVisible, value: false }
    - { name: MagnetOpenAsk, value: false }
    - { name: WarningLegal, value: false }

- name: Transmission settings [directories]
  osx_defaults:
    domain: org.m0k.transmission
    key: '{{ item }}'
    value: /Volumes/storage/_downloads
  loop: [ AutoImportDirectory, NSNavLastRootDirectory, DownloadFolder]

# TODO:
# Language & Region
# Software Update
# Accessibility (is this even possible?)
# Energy Saver
# Night Shift
# Sharing
#  - Computer Name
#  - Remote Login
# Keyboard
#  - Caps Lock -> Control
#  - Control -> Escape
